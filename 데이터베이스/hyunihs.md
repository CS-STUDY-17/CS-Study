# 데이터베이스
## 데이터베이스의 기본
- DB(Database): 일정한 규칙, 혹은 규악을 통해 구조화되어 저장되는 데이터의 모음집
- DBMS(Database Management System): 해당 데이터베이스를 제어, 관리하는 통합 시스템
- DB안의 데이터는 특정 DBMS마다 정의된 쿼리 언어를 통해 삽입, 삭제, 수정, 조회 가능
- 데이터베이스는 실시간 접근, 동시공유 가능

<img width="860" alt="dbms-image-1" src="https://github.com/CS-STUDY-17/CS-Study/assets/86969518/9cb514c6-8a5b-4462-9035-e34819229835">

### 엔터티(entity)
사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사

#### 약한 엔터티와 강한 엔터티
- A가 혼자서는 존재할 수 없고 B 엔터티의 존재 여부에 따라 종속적이라면 A는 약한 엔터티, B는 강한 엔터티
- ex) 건물: 강한 엔터티, 방: 약한 엔터티

### 릴레이션(relation)
데이터베이스에서 정보를 구분하여 저장하는 기본 단위
엔터티 데이터 → 릴레이션 하나에 담아 관리
- 관계형 DB: 테이블 (MySQL: 레코드-테이블-데이터베이스)
- NoSQL DB: 컬렉션 (MongoDB: 도큐먼트-컬렉션-데이터베이스)

### 속성(attribute)
릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보  
ex) 엔티티: 차, 속성: 차 넘버, 바퀴 수, 차 색깔, 차종

### 도메인(domain)
각각의 속성들이 가질 수 있는 값의 집합  
ex) 속성: 성별, 도메인: {남, 여}

### 필드와 레코드
- 레코드(튜플) = 테이블의 행(row) 단위 데이터

#### 필드 타입
- DBMS마다 다름
- 숫자, 날짜, 문자 타입 등

#### 문자 타입
- CHAR: 고정 길이 문자열
- VARCHAR: 가변 길이 문자열
- TEXT: 큰 문자열 저장
- BLOB: 이미지 동영상 저장
  - 그러나 보통은 s3에 파일 올리고 그 경로를 VARCHAR로 저장
- ENUM: 열거형
  - 단일 선택만 가능
  - 잘못된 값 삽입 시 빈 문자열이 대신 삽입됨
  - 숫자로 매핑되어 메모리 적게 사용하는 이점
  - 최대 65,535개의 요소
- SET: 열거형
  - 여러개 선택 가능
  - 비트 단위 연산 가능
  - 최대 64개 요소

### 관계
데이터베이스에는 여러 테이블이 있고 서로의 관계가 정의되어 있음

![img](https://github.com/CS-STUDY-17/CS-Study/assets/86969518/939079bb-075e-46b5-8120-94461b96a44d)

- 1:1 관계
- 1:N 관계
- N:M 관계
  - 1:N, 1:M이라는 관계를 갖는 테이블 두개로 나누어 구축 (중간 테이블 설정)

### 키
#### 기본키(Primary Key)
- 유일성, 최소성
- 자연키
- 인조키: 인위적으로 생성함, 보통 기본키는 인조키로 설정

#### 외래키(Foreign Key)
- 다른 테이블의 기본키를 참조
- 개체와의 관계를 식별하는데에 사용 

#### 후보키(candidate key)
- 기본키가 될 수 있는 후보들(유일성, 최소성 동시 만족)

#### 대체키(alternate key)
- 후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들

#### 슈퍼키(super key)
- 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키